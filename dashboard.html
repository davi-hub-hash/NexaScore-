                    <!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexuScore 3.0 - Global</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg-body: #05070a;
            --sidebar-color: #0d1117;
            --accent: #00d2ff;
            --text-primary: #ffffff;
            --text-secondary: #8b949e;
            --sidebar-width-collapsed: 70px;
            --sidebar-width-expanded: 260px;
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-primary);
            display: flex;
            min-height: 100vh;
        }

        /* SIDEBAR RETRÁTIL */
        .sidebar {
            width: var(--sidebar-width-collapsed);
            background-color: var(--sidebar-color);
            height: 100vh;
            position: fixed;
            left: 0; top: 0;
            display: flex;
            flex-direction: column;
            transition: width 0.3s ease;
            z-index: 1000;
            border-right: 1px solid #30363d;
            overflow: hidden;
        }
        .sidebar:hover { width: var(--sidebar-width-expanded); }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 15px 25px;
            color: var(--text-secondary);
            text-decoration: none;
            cursor: pointer;
            transition: 0.2s;
        }
        .nav-link:hover, .nav-link.active {
            color: var(--accent);
            background: rgba(0, 210, 255, 0.05);
            border-left: 4px solid var(--accent);
        }
        .nav-link i { min-width: 25px; font-size: 18px; text-align: center; }
        .nav-link span { margin-left: 20px; opacity: 0; transition: opacity 0.2s; white-space: nowrap; }
        .sidebar:hover .nav-link span { opacity: 1; }

        /* CONTEÚDO */
        .main-wrapper {
            margin-left: var(--sidebar-width-collapsed);
            flex-grow: 1;
            padding: 40px;
            transition: margin-left 0.3s ease;
            width: 100%;
        }
        .sidebar:hover ~ .main-wrapper { margin-left: var(--sidebar-width-expanded); }

        .content-section { display: none; }
        .content-section.active { display: block; animation: fadeIn 0.4s ease; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* CARDS */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px; }
        .card { background: #161b22; padding: 25px; border-radius: 12px; border: 1px solid #30363d; }
        .card h3 { margin: 0; color: var(--text-secondary); font-size: 14px; }
        .card .value { font-size: 28px; font-weight: bold; margin-top: 10px; color: var(--accent); }

        .flag-icon { width: 20px; margin-right: 10px; vertical-align: middle; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div style="padding: 20px; color: var(--accent); font-weight: bold;">
            <i class="fas fa-bolt"></i> <span>NEXUSCORE</span>
        </div>
        <nav style="flex-grow: 1;">
            <div class="nav-link active" onclick="showSection('dashboard')"><i class="fas fa-home"></i> <span>Dashboard</span></div>
            <div class="nav-link" onclick="showSection('clientes')"><i class="fas fa-users"></i> <span>Clientes</span></div>
            <div class="nav-link" onclick="showSection('funcionarios')"><i class="fas fa-user-tie"></i> <span>Equipe</span></div>
            <div class="nav-link" onclick="showSection('produtos')"><i class="fas fa-box"></i> <span>Produtos</span></div>
            <div class="nav-link" onclick="showSection('vendas')"><i class="fas fa-shopping-cart"></i> <span>Vendas</span></div>
            <div class="nav-link" onclick="showSection('financeiro')"><i class="fas fa-wallet"></i> <span>Financeiro</span></div>
            <div class="nav-link" onclick="showSection('relatorios')"><i class="fas fa-file-alt"></i> <span>Relatórios</span></div>
            <div class="nav-link" onclick="showSection('config')"><i class="fas fa-cog"></i> <span>Configurações</span></div>
        </nav>
        <div class="nav-link" id="btnLogout" style="color: #ff4b4b; border-top: 1px solid #30363d;">
            <i class="fas fa-power-off"></i> <span>Sair</span>
        </div>
    </aside>

    <main class="main-wrapper">
        <header>
            <h1 id="txt-welcome">Bem-vindo</h1>
            <p id="info-regiao" style="color: var(--text-secondary); font-size: 0.9rem;"></p>
        </header>

        <section id="dashboard" class="content-section active">
            <div class="grid">
                <div class="card">
                    <h3 id="label-vendas">Vendas Totais</h3>
                    <span class="value"><span class="moeda-simbolo">R$</span> 15.750,00</span>
                </div>
                <div class="card">
                    <h3 id="label-saldo">Saldo Disponível</h3>
                    <span class="value"><span class="moeda-simbolo">R$</span> 8.420,00</span>
                </div>
            </div>
        </section>

        <section id="clientes" class="content-section"><h1>Clientes</h1></section>
        <section id="funcionarios" class="content-section"><h1>Funcionários</h1></section>
        <section id="produtos" class="content-section"><h1>Produtos</h1></section>
        <section id="vendas" class="content-section"><h1>Vendas</h1></section>
        <section id="financeiro" class="content-section"><h1>Financeiro</h1></section>
        <section id="relatorios" class="content-section"><h1>Relatórios</h1></section>
        <section id="config" class="content-section"><h1>Configurações</h1></section>
    </main>

    <script type="module">
        import { auth, db } from './firebase-config.js';
        import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // DICIONÁRIO DE TRADUÇÃO E MOEDA
        const configRegiao = {
            'Brasil': { moeda: 'R$', boasVindas: 'Bem-vindo ao Dashboard', vendas: 'Vendas Totais', saldo: 'Saldo Disponível' },
            'USA': { moeda: '$', boasVindas: 'Welcome to Dashboard', vendas: 'Total Sales', saldo: 'Available Balance' },
            'Europa': { moeda: '€', boasVindas: 'Bienvenue au Dashboard', vendas: 'Ventes Totales', saldo: 'Solde Disponible' }
        };

        auth.onAuthStateChanged(async (user) => {
            if (user) {
                // Busca o país que o usuário escolheu no Firestore
                const userRef = doc(db, "usuarios", user.uid);
                const userSnap = await getDoc(userRef);

                if (userSnap.exists()) {
                    const dados = userSnap.data();
                    const pais = dados.pais || 'Brasil'; // Padrão Brasil
                    aplicarRegiao(pais);
                }
            } else {
                window.location.href = 'index.html';
            }
        });

        function aplicarRegiao(pais) {
            const conf = configRegiao[pais] || configRegiao['Brasil'];
            
            // Aplica Tradução
            document.getElementById('txt-welcome').innerText = conf.boasVindas;
            document.getElementById('label-vendas').innerText = conf.vendas;
            document.getElementById('label-saldo').innerText = conf.saldo;
            document.getElementById('info-regiao').innerText = `Região Ativa: ${pais}`;

            // Aplica Moeda em todos os campos que usam a classe moeda-simbolo
            document.querySelectorAll('.moeda-simbolo').forEach(el => {
                el.innerText = conf.moeda;
            });
        }

        window.showSection = function(id) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        document.getElementById('btnLogout').addEventListener('click', () => {
            auth.signOut().then(() => window.location.href = 'index.html');
        });
    </script>
</body>
</html>
